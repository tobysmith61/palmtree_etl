ORG EDITORS
===========

Automotive Company (& group of brands)
e.g.
Stellantis
    Fiat
    Peugeot
    Vauxhall
    Citroen
    Abarth
BMW Group UK (NSC)
    BMW
    BMWi
    Mini


Data feed source entities
e.g.
Stellantis DMS South
    Stellantis Fiat Godalming
    Stellantis Peugeot Godalming
    Stellantis Vauxhall Godalming
    Stellantis Citroen Godalming
    Stellantis Citroen Chiswick
    Stellantis Abarth Chiswick
Stellantis DMS North
    Stellantis Fiat Birmingham
    Stellantis Peugeot Birmingham
    Stellantis Vauxhall Birmingham


Rooftops
e.g.
Stellantis Godalming
    Stellantis Fiat Godalming
    Stellantis Peugeot Godalming
    Stellantis Vauxhall Godalming
    Stellantis Citroen Godalming

Retailer Groups

Tenants (palmTree data isolation)

Billing Org





To do today 19.1.2026

Remove source schema from table data model
add test jobs schema which joins test data to source schemas and runs in a loop with single button
this way test to source schema is 1 to many, source schema to canonical is 1 to 1
final jobs should mimic above but with real data

next big job is managing sftp file drops and validation techniques to bail if data is garbage
being careful not to block users by declining too much, upstream should be solid enough to cater for gaps in data


sftp
====

received dropped file
on completion of drop (need mechanism, e.g. filename only on completion)

SFTP uploads file.csv
↓
ETL scanner sees incoming/file.csv
↓
MOVE incoming/file.csv → processing/file.csv   ← lock
↓
CREATE ETLJob row (status=processing)
↓
Process rows → canonical tables
↓
Success?
    YES → move to archive/ + update ETLJob
    NO  → move to error/   + update ETLJob


git create project
rls next
firm up db users and rls policy creation via meta field and script.py
